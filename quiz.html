<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Quiz App</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #ffecd2, #fcb69f);
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    #app {
      background: #fff;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
      width: 90%;
      max-width: 600px;
      text-align: center;
    }

    h1, h2 {
      margin-bottom: 20px;
    }

    button {
      padding: 12px 24px;
      margin: 10px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background-color: #007BFF;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #0056b3;
    }

    .option-btn {
      display: block;
      width: 100%;
      margin: 10px 0;
    }

    .footer {
      margin-top: 20px;
      font-size: 12px;
      color: #666;
    }

  </style>
</head>
<body>

<div id="app">
  <div id="welcome-screen">
    <h1>Welcome to the Quiz</h1>
    <input type="text" id="nameInput" placeholder="Enter your name" style="padding:10px; width:80%; margin-bottom:20px;" />
    <br>
    <button onclick="startQuiz()">Start Quiz</button>
  </div>

  <div id="quiz-screen" style="display:none;">
    <h2 id="userName"></h2>
    <div id="question"></div>
    <div id="options"></div>
    <button onclick="nextQuestion()">Next</button>
  </div>

  <div id="result-screen" style="display:none;">
    <h2>Quiz Complete!</h2>
    <p id="finalScore"></p>
    <button onclick="playAgain()">Play Again</button>
    <button onclick="goHome()">Go to Home</button>
  </div>

  <div class="footer">Developed by: Arvind Singla</div>
</div>

<script>
  let questions = [];
  let current = 0;
  let score = 0;
  let username = "";

  fetch('https://singla1209.github.io/Quiz_App/questions.json')
    .then(response => {
      if (!response.ok) throw new Error("Network response was not ok");
      return response.json();
    })
    .then(data => {
      questions = data;
    })
    .catch(error => {
      alert("Error loading questions.");
      console.error(error);
    });

  function startQuiz() {
    username = document.getElementById("nameInput").value.trim();
    if (!username) {
      alert("Please enter your name.");
      return;
    }

    current = 0;
    score = 0;

    document.getElementById("welcome-screen").style.display = "none";
    document.getElementById("quiz-screen").style.display = "block";
    document.getElementById("userName").innerText = "Hello, " + username + "!";
    showQuestion();
  }

  function showQuestion() {
    if (current >= questions.length) {
      document.getElementById("quiz-screen").style.display = "none";
      document.getElementById("result-screen").style.display = "block";
      document.getElementById("finalScore").innerText = `${username}, you scored ${score} out of ${questions.length}`;
      return;
    }

    const q = questions[current];
    document.getElementById("question").innerHTML = `<h3>${q.question}</h3>`;
    const options = Object.entries(q.options).map(([key, val]) => {
      return `<button class="option-btn" onclick="checkAnswer('${key}')">${key}: ${val}</button>`;
    }).join("");
    document.getElementById("options").innerHTML = options;
  }

  function checkAnswer(selected) {
    if (selected === questions[current].correct) {
      score++;
    }
    current++;
    showQuestion();
  }

  function nextQuestion() {
    current++;
    showQuestion();
  }

  function playAgain() {
    current = 0;
    score = 0;
    document.getElementById("result-screen").style.display = "none";
    document.getElementById("quiz-screen").style.display = "block";
    showQuestion();
  }

  function goHome() {
    document.getElementById("result-screen").style.display = "none";
    document.getElementById("welcome-screen").style.display = "block";
    document.getElementById("nameInput").value = "";
  }
</script>

</body>
</html>
